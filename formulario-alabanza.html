<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Formulario Alabanza Templo Mayor</title>
<style>
:root {
  --bg:#f7f7f7;--text:#222;--card:#fff;--accent:#3b6ea5;--muted:#777;
}
[data-theme="dark"]{
  --bg:#121212;--text:#eee;--card:#1e1e1e;--accent:#4fa3ff;--muted:#aaa;
}
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text);transition:.3s;}
header{display:flex;align-items:center;justify-content:space-between;background:var(--card);
box-shadow:0 2px 6px rgba(0,0,0,.2);padding:10px 20px;}
header img{height:60px;transition:opacity .3s ease;}
.theme-btn{background:var(--accent);border:none;color:#fff;padding:8px 14px;
border-radius:6px;cursor:pointer;}
.container{max-width:900px;margin:30px auto;padding:20px;}
.card{background:var(--card);padding:20px 40px;border-radius:10px;
box-shadow:0 3px 10px rgba(0,0,0,.1);margin-bottom:25px;}
.card h2{margin-top:0;color:var(--accent);}
label{font-weight:bold;display:block;margin-top:12px;}
small{color:var(--muted);margin-left:5px;font-weight:normal;}
input,textarea{width:100%;padding:10px;margin-top:4px;border-radius:5px;
border:1px solid #ccc;background:var(--bg);color:var(--text);}
button.submit{margin-top:20px;background:var(--accent);color:#fff;
border:none;padding:12px 20px;border-radius:6px;font-size:16px;cursor:pointer;}
.success,.error{text-align:center;font-weight:bold;margin-top:20px;display:none;}
.success{color:green}.error{color:red}
</style>
</head>
<body>
<header>
  <img id="logo" src="Loco%20Casa%20+%20deep%201600x400.png" alt="Deepartment Logo">
  <button class="theme-btn" id="themeToggle">üåô / ‚òÄÔ∏è</button>
</header>

<div class="container">
  <form id="alabanzaForm">
    
    <div class="card">
      <h2>üìç Lugar / Log√≠stica</h2>
      <label>Ministerio / Equipo <small>(Ej. ALABANZA TEMPLO MAYOR)</small></label>
      <input name="ministerio" required>
      <label>Fecha y hora ‚Äì Prueba de sonido + Ensayo 
        <small>(Selecciona fecha y hora exactas)</small></label>
      <input name="fechaEnsayo" type="datetime-local" required>
      <label>Encargado general <small>(Nombre completo)</small></label>
      <input name="encargado" required>
      <label>Talkback <small>(Persona responsable del talkback)</small></label>
      <input name="talkback" required>
      <label>Correo destino principal <small>(Quien recibir√° el resumen)</small></label>
      <input name="correoDestino" type="email" value="dcalvinisti@gmail.com" required>
    </div>

    <div class="card">
      <h2>üé§ Voces e Instrumentos</h2>
      <label>Voces <small>(Separadas por + o coma)</small></label>
      <textarea name="voces" rows="3" required></textarea>
      <label>Instrumentos <small>(Una l√≠nea por rol: ‚ÄúPiano 1: Nombre‚Äù)</small></label>
      <textarea name="instrumentos" rows="4" required></textarea>
    </div>

    <div class="card">
      <h2>üé∂ Setlist</h2>
      <label>Bloque ‚Äì Alabanza <small>(Una canci√≥n por l√≠nea, indica tono y fuente)</small></label>
      <textarea name="alabanza" rows="4" required></textarea>
      <label>Bloque ‚Äì Adoraci√≥n <small>(Una canci√≥n por l√≠nea)</small></label>
      <textarea name="adoracion" rows="4" required></textarea>
    </div>

    <div class="card">
      <h2>üéöÔ∏è Rider T√©cnico</h2>
      <label>Rider ‚Äì Elementos requeridos 
        <small>(Separa con comas)</small></label>
      <textarea name="rider" rows="3"
        placeholder="7 Micr√≥fonos | Voces, Sistema de Monitoreo, 8 Canales Secuencia..." required></textarea>
      <label>N√∫mero de personas para desayuno <small>(Ej. 17)</small></label>
      <input name="desayuno" type="number" required>
      <label>Nota adicional <small>(Comentarios u observaciones extra)</small></label>
      <textarea name="nota"></textarea>
    </div>

    <button class="submit" type="submit">Enviar</button>
    <p class="success">‚úÖ Formulario enviado correctamente.</p>
    <p class="error">‚ùå Ocurri√≥ un error. Int√©ntalo de nuevo.</p>
  </form>
</div>

<script>
const webhookURL = "TU_WEBHOOK_AQUI"; // <-- reemplaza con tu webhook de Make

// Modo oscuro / claro con logos diferentes
const toggle = document.getElementById("themeToggle");
const logo = document.getElementById("logo");
const lightLogo = "Loco%20Casa%20+%20deep%201600x400.png";
const darkLogo = "Loco%20Casa%20+%20deep%201600x400%20white.png";

function setTheme(theme) {
  document.documentElement.setAttribute("data-theme", theme);
  localStorage.setItem("theme", theme);
  logo.src = theme === "dark" ? darkLogo : lightLogo;
}

const savedTheme = localStorage.getItem("theme") || "light";
setTheme(savedTheme);

toggle.addEventListener("click", () => {
  const newTheme = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
  setTheme(newTheme);
});

// env√≠o del formulario
document.getElementById("alabanzaForm").addEventListener("submit", async e => {
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());
  try {
    const res = await fetch(webhookURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(data)
    });
    if (res.ok) {
      form.reset();
      document.querySelector(".success").style.display = "block";
      document.querySelector(".error").style.display = "none";
    } else throw new Error();
  } catch {
    document.querySelector(".success").style.display = "none";
    document.querySelector(".error").style.display = "block";
  }
});
</script>
</body>
</html>
